{% extends "base_template.html" %}

{% load staticfiles %}
{% block content %}

<link href="{% static 'css/dropzone.css' %}" rel="stylesheet" />

        <!-- IMPORTANT enctype attribute! -->
        <form class="dropzone" action="{% url "home" %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
        </form>

{#        <button id="submit-all">#}
{#            Submit all files#}
{#        </button>#}
        <div class="see"><a class="btn btn-default btn-fill" href="/ocr"><i class="fa fa-bolt"></i>
                        Look at the text from your image</a></div>
        <div id="ocr">{{ textFile }}</div>
 
        <script src="{% static 'js/dropzone.js' %}"></script>
        <script type="text/javascript">
            Dropzone.options.myDropzone = {
 
                // Prevents Dropzone from uploading dropped files immediately
                autoProcessQueue : false,
 
                init : function() {
                    var submitButton = document.querySelector("#submit-all")
                    myDropzone = this;
 
                    submitButton.addEventListener("click", function() {
                        myDropzone.processQueue();
                        // Tell Dropzone to process all queued files.
                    });
 
                    // You might want to show the submit button only when
                    // files are dropped here:
                    this.on("addedfile", function() {
                        // Show submit button here and/or inform user to click it.
                    });
 
                }
            };
        </script>



{% endblock content %}